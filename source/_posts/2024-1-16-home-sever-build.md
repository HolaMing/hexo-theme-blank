---
layout: Post
title: Home Server搭建
date: 2024-01-16
author:   Jett 
tags: 
  - network
giscus: true  
---
<!-- toc -->

# 1.访问问题
目前有公网IPV6，但大多数设备目前不支持，例如公司电脑，连上WIFI的平板，目前就只有蜂窝数据的手机能够访问。  
正在考虑要不要租用服务器进行反向代理。  
# 2.外网访问方案
## 2.1正向代理
客户端通过代理服务器访问Google，Google服务器并不知道客户端来源能否访问，由代理服务器（有访问权限）转发信息，服务器对客户端位置未知 。   
VPN：wireguard  
组建局域网：zerotier（具体技术原理未知）
## 2.2反向代理
客户端通过代理服务器访问Baidu，由代理服务器分发到节点，客户端对真正访问的服务器位置未知。
nginx, frp：需要代理服务器，而且访问的速度受限于代理服务器，对我目前用途来说无性价比。
CDN：cloudflare
## 2.3个人解决方法
当前情况： windows docker  
		  光猫桥接，路由器拨号上网，公网IPv6  
		  域名，阿里云DNS解析  
		  ddns-go  
		  zerotier组建局域网
外网访问：1，支持ipv6设备，如使用蜂窝数据的手机，可直接用网址访问  
		 2，仅支持ipv4设备，如公司电脑，开启zerotier访问
# 3.镜像推荐
容器管理：portainer
云盘：nextcloud
文件管理：alist
影像管理：jellyfin  
# 4.总结
从头将计算机网络看了一遍，发现内部主要还是围绕网络模型分层来讲，有很多具体协议理解费时，多而杂，看完其实对我部署NAS用处不大，因为更需要的是网络搭建技术，FTTH，FTTB，NAT，VPN这种技术，对IPS方案的理解。  
把问题简单化其实就是，**外网设备访问内网设备**。  
1. 就是要找到内网设备，首先内网设备要有自己的唯一标识符吧。要不自己有公网IP；要不反向代理，把内网设备挂在代理服务器上，外网设备通过访问代理服务器找到内网设备。  
2. 找到之后也有阻碍，NAT可以挡住，这就涉及端口转发（没做实际应用）；防火墙也可以挡住，不过我有公网IPv6也就只需要关闭防火墙。



